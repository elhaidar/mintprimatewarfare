(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{148:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return x}));var r=n(13),a=n(1),i=n.n(a),c=n(4),s=n(31),o=n(53),u=n(12),l=n(365),d=n(68),b=new s.e.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),p=new s.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f=function(){var e=Object(c.a)(i.a.mark((function e(t,n,r){var a,s,o,u,l=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>3&&void 0!==l[3]?l[3]:"recent",a=l.length>4&&void 0!==l[4]&&l[4],s=!1,o={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=Object(c.a)(i.a.mark((function e(u,l){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(s||!a){e.next=7;break}return Object(c.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,o=n&&n.value[0],s||(o?o.err?(console.log("REST error for",t,o),s=!0,l(o.err)):o.confirmations?(console.log("REST confirmation for",t,o),s=!0,u(o)):console.log("REST no confirmations for",t,o):console.log("REST null result for",t,o)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,O(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return o=e.sent,r._signatureSubscriptions[u]&&r.removeSignatureListener(u),s=!0,console.log("Returning status",o),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:s.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new s.e.TransactionInstruction({keys:i,programId:d.b,data:e.from([])})},g=function(){var e=Object(c.a)(i.a.mark((function e(t,n,r){var a,c,o,u,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new s.c(r,t,{preflightCommitment:"recent"}),e.next=3,s.b.fetchIdl(b,a);case 3:return c=e.sent,o=new s.b(c,b,a),e.next=7,o.account.candyMachine.fetch(n);case 7:return u=e.sent,l=u.data.itemsAvailable.toNumber(),d=u.itemsRedeemed.toNumber(),p=l-d,e.abrupt("return",{id:n,program:o,state:{itemsAvailable:l,itemsRedeemed:d,itemsRemaining:p,isSoldOut:0===p,isActive:u.data.goLiveDate&&u.data.goLiveDate.toNumber()<(new Date).getTime()/1e3&&(!u.endSettings||(u.endSettings.endSettingType.date?u.endSettings.number.toNumber()>(new Date).getTime()/1e3:d<u.endSettings.number.toNumber())),goLiveDate:u.data.goLiveDate,treasury:u.wallet,tokenMint:u.tokenMint,gatekeeper:u.data.gatekeeper,endSettings:u.data.endSettings,whitelistMintSettings:u.data.whitelistMintSettings,hiddenSettings:u.data.hiddenSettings,price:u.data.price}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("metadata"),p.toBuffer(),n.toBuffer(),e.from("edition")],p);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("metadata"),p.toBuffer(),n.toBuffer()],p);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("candy_machine"),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var c,b,f,g,x,O,S,y,k,w,P,T,A,_,E,N,R;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(a.publicKey,n);case 2:if(c=e.sent[0],!t.state.tokenMint){e.next=9;break}return e.next=6,Object(d.d)(t.state.tokenMint,n);case 6:e.t0=e.sent[0],e.next=10;break;case 9:e.t0=n;case 10:return b=e.t0,f=t.id,g=[],x=[a],O=[],e.t1=s.e.SystemProgram,e.t2=n,e.t3=a.publicKey,e.t4=o.a.span,e.next=21,t.program.provider.connection.getMinimumBalanceForRentExemption(o.a.span);case 21:if(e.t5=e.sent,e.t6=o.b,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,space:e.t4,lamports:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t9=o.c.createInitMintInstruction(o.b,a.publicKey,0,n,n),e.t10=m(c,n,n,a.publicKey),e.t11=o.c.createMintToInstruction(o.b,a.publicKey,c,n,[],1),S=[e.t8,e.t9,e.t10,e.t11],!t.state.gatekeeper){e.next=44;break}return e.t12=g,e.next=33,Object(d.f)(n,t.state.gatekeeper.gatekeeperNetwork);case 33:if(e.t13=e.sent[0],e.t14={pubkey:e.t13,isWritable:!0,isSigner:!1},e.t12.push.call(e.t12,e.t14),!t.state.gatekeeper.expireOnUse){e.next=44;break}return g.push({pubkey:d.a,isWritable:!1,isSigner:!1}),e.t15=g,e.next=41,Object(d.e)(t.state.gatekeeper.gatekeeperNetwork);case 41:e.t16=e.sent[0],e.t17={pubkey:e.t16,isWritable:!1,isSigner:!1},e.t15.push.call(e.t15,e.t17);case 44:if(!t.state.whitelistMintSettings){e.next=59;break}return y=new s.e.PublicKey(t.state.whitelistMintSettings.mint),e.next=48,Object(d.d)(y,n);case 48:if(k=e.sent[0],g.push({pubkey:k,isWritable:!0,isSigner:!1}),!t.state.whitelistMintSettings.mode.burnEveryTime){e.next=59;break}return w=s.e.Keypair.generate(),g.push({pubkey:y,isWritable:!0,isSigner:!1}),g.push({pubkey:w.publicKey,isWritable:!1,isSigner:!0}),x.push(w),e.next=57,t.program.provider.connection.getAccountInfo(k);case 57:e.sent&&(S.push(o.c.createApproveInstruction(o.b,k,w.publicKey,n,[],1)),O.push(o.c.createRevokeInstruction(o.b,k,n,[])));case 59:return t.state.tokenMint&&(P=s.e.Keypair.generate(),x.push(P),g.push({pubkey:b,isWritable:!0,isSigner:!1}),g.push({pubkey:P.publicKey,isWritable:!1,isSigner:!0}),S.push(o.c.createApproveInstruction(o.b,b,P.publicKey,n,[],t.state.price.toNumber())),O.push(o.c.createRevokeInstruction(o.b,b,n,[]))),e.next=62,h(a.publicKey);case 62:return T=e.sent,e.next=65,j(a.publicKey);case 65:return A=e.sent,e.next=68,v(f);case 68:return _=e.sent,E=Object(r.a)(_,2),N=E[0],R=E[1],e.t18=S,e.next=75,t.program.instruction.mintNft(R,{accounts:{candyMachine:f,candyMachineCreator:N,payer:n,wallet:t.state.treasury,mint:a.publicKey,metadata:T,masterEdition:A,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:p,tokenProgram:o.b,systemProgram:u.SystemProgram.programId,rent:s.e.SYSVAR_RENT_PUBKEY,clock:s.e.SYSVAR_CLOCK_PUBKEY,recentBlockhashes:s.e.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,instructionSysvarAccount:s.e.SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:g.length>0?g:void 0});case 75:return e.t19=e.sent,e.t18.push.call(e.t18,e.t19),e.prev=77,e.next=80,Object(l.a)(t.program.provider.connection,t.program.provider.wallet,[S,O],[x,[]]);case 80:return e.abrupt("return",e.sent.txs.map((function(e){return e.txid})));case 83:e.prev=83,e.t20=e.catch(77),console.log(e.t20);case 86:return e.abrupt("return",[]);case 87:case"end":return e.stop()}}),e,null,[[77,83]])})));return function(t,n,r){return e.apply(this,arguments)}}(),O=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(6).Buffer)},365:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n(18),i=n(1),c=n.n(i),s=n(4),o=n(12),u=n(23);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var l=function(){var e=Object(s.a)(c.a.mark((function e(t,n,i,s){var l,d,b,f,m,g,j,h,v,x,O,S,y,k,w=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=w.length>4&&void 0!==w[4]?w[4]:r.Parallel,d=w.length>5&&void 0!==w[5]?w[5]:"singleGossip",b=w.length>6&&void 0!==w[6]?w[6]:function(e,t){},f=w.length>7&&void 0!==w[7]?w[7]:function(e,t){return!1},m=w.length>8?w[8]:void 0,n.publicKey){e.next=7;break}throw new u.WalletNotConnectedError;case 7:if(g=[],m){e.next=12;break}return e.next=11,t.getRecentBlockhash(d);case 11:m=e.sent;case 12:j=function(e){var t=i[e],r=s[e];if(0===t.length)return"continue";var c=new o.Transaction;t.forEach((function(e){return c.add(e)})),c.recentBlockhash=m.blockhash,c.setSigners.apply(c,[n.publicKey].concat(Object(a.a)(r.map((function(e){return e.publicKey}))))),r.length>0&&c.partialSign.apply(c,Object(a.a)(r)),g.push(c)},h=0;case 14:if(!(h<i.length)){e.next=21;break}if("continue"!==j(h)){e.next=18;break}return e.abrupt("continue",18);case 18:h++,e.next=14;break;case 21:return e.next=23,n.signAllTransactions(g);case 23:v=e.sent,x=[],O={breakEarly:!1,i:0},console.log("Signed txns length",v.length,"vs handed in length",i.length),S=c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=p({connection:t,signedTransaction:v[n]})).then((function(e){var t=e.txid;e.slot;b(t,n)})).catch((function(e){f(v[n],n),l===r.StopOnFailure&&(O.breakEarly=!0,O.i=n)})),l===r.Parallel){e.next=21;break}return e.prev=3,e.next=6,a;case 6:e.next=19;break;case 8:if(e.prev=8,e.t0=e.catch(3),console.log("Caught failure",e.t0),!O.breakEarly){e.next=19;break}return console.log("Died on ",O.i),e.t1=O.i,e.next=16,Promise.all(x);case 16:return e.t2=e.sent,e.t3={number:e.t1,txs:e.t2},e.abrupt("return",{v:e.t3});case 19:e.next=22;break;case 21:x.push(a);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})),y=0;case 29:if(!(y<v.length)){e.next=37;break}return e.delegateYield(S(y),"t0",31);case 31:if("object"!==typeof(k=e.t0)){e.next=34;break}return e.abrupt("return",k.v);case 34:y++,e.next=29;break;case 37:if(l===r.Parallel){e.next=40;break}return e.next=40,Promise.all(x);case 40:return e.t1=v.length,e.next=43,Promise.all(x);case 43:return e.t2=e.sent,e.abrupt("return",{number:e.t1,txs:e.t2});case 45:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),d=function(){return(new Date).getTime()/1e3},b=3e4;function p(e){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(c.a.mark((function e(t){var n,r,a,i,o,u,l,p,f,g,h,x,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,i=void 0===a?b:a,o=n.serialize(),u=d(),l=0,e.next=6,r.sendRawTransaction(o,{skipPreflight:!0});case 6:return p=e.sent,console.log("Started awaiting confirmation for",p),f=!1,Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f||!(d()-u<i)){e.next=6;break}return r.sendRawTransaction(o,{skipPreflight:!0}),e.next=4,v(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,j(p,i,r,"recent",!0);case 13:if(g=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!g.err){e.next=19;break}throw console.error(g.err),new Error("Transaction failed: Custom instruction error");case 19:l=(null===g||void 0===g?void 0:g.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return h=null,e.prev=28,e.next=31,m(r,n,"single");case 31:h=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!h||!h.err){e.next=47;break}if(!h.logs){e.next=46;break}x=h.logs.length-1;case 39:if(!(x>=0)){e.next=46;break}if(!(O=h.logs[x]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+O.slice("Program log: ".length));case 43:--x,e.next=39;break;case 46:throw new Error(JSON.stringify(h.err));case 47:return e.prev=47,f=!0,e.finish(47);case 50:return console.log("Latency",p,d()-u),e.abrupt("return",{txid:p,slot:l});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function m(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(c.a.mark((function e(t,n,r){var a,i,s,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),i=n._serialize(a),s=i.toString("base64"),o=[s,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",o);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,n){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(c.a.mark((function e(t,n,r){var a,i,o,u,l,d=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",i=d.length>4&&void 0!==d[4]&&d[4],o=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(s.a)(c.a.mark((function e(d,b){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){o=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(p){o=!0,console.error("WS error in setup",t,p)}case 2:if(o||!i){e.next=8;break}return Object(s.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],o||(u?u.err?(console.log("REST error for",t,u),o=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),o=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,v(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),o=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return new Promise((function(t){return setTimeout(t,e)}))}},392:function(e,t,n){},393:function(e,t,n){},394:function(e,t){},395:function(e,t){},416:function(e,t){},417:function(e,t){},526:function(e,t){},528:function(e,t){},542:function(e,t){},546:function(e,t){},548:function(e,t){},558:function(e,t){},560:function(e,t){},587:function(e,t){},589:function(e,t){},594:function(e,t){},596:function(e,t){},602:function(e,t){},604:function(e,t){},616:function(e,t){},619:function(e,t){},631:function(e,t){},632:function(e,t,n){"use strict";n.r(t);var r,a,i,c,s,o=n(2),u=n.n(o),l=n(40),d=n.n(l),b=(n(392),n(393),n(14)),p=n(1),f=n.n(p),m=n(4),g=n(13),j=n(71),h=n(72),v=n(349),x=n(31),O=n(12),S=n(64),y=n(188),k=n(111),w=n(662),P=n(668),T=n(671),A=n(670),_=n(666),E=n(663),N=n(364),R=n(659),C=n(673),M=n(11),K=Object(R.a)((function(e){return Object(C.a)({root:{display:"flex",padding:e.spacing(0),"& > *":{margin:e.spacing(.5),marginRight:0,width:e.spacing(6),height:e.spacing(6),display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontSize:10}},done:{display:"flex",margin:e.spacing(1),marginRight:0,padding:e.spacing(1),flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontWeight:"bold",fontSize:18},item:{fontWeight:"bold",fontSize:18}})})),L=function(e){var t=e.date,n=e.status,r=e.style,a=e.onComplete,i=K();return t?Object(M.jsx)(N.a,{date:t,onComplete:a,renderer:function(e){var t=e.days,a=e.hours,c=e.minutes,s=e.seconds;return a+=24*t,e.completed?n?Object(M.jsx)("span",{className:i.done,children:n}):null:Object(M.jsxs)("div",{className:i.root,style:r,children:[Object(M.jsxs)(w.a,{elevation:0,children:[Object(M.jsx)("span",{className:i.item,children:a<10?"0".concat(a):a}),Object(M.jsx)("span",{children:"hrs"})]}),Object(M.jsxs)(w.a,{elevation:0,children:[Object(M.jsx)("span",{className:i.item,children:c<10?"0".concat(c):c}),Object(M.jsx)("span",{children:"mins"})]}),Object(M.jsxs)(w.a,{elevation:0,children:[Object(M.jsx)("span",{className:i.item,children:s<10?"0".concat(s):s}),Object(M.jsx)("span",{children:"secs"})]})]})}}):null},I=n(68),D=function(e){var t,n,r,a,i=e.candyMachine;return Object(M.jsx)(_.a,{container:!0,direction:"row",justifyContent:"center",wrap:"nowrap",children:Object(M.jsxs)(_.a,{container:!0,direction:"row",wrap:"nowrap",children:[i&&Object(M.jsxs)(_.a,{container:!0,direction:"row",wrap:"nowrap",children:[Object(M.jsxs)(_.a,{container:!0,direction:"column",children:[Object(M.jsx)(E.a,{variant:"body2",color:"textSecondary",children:"Minted"}),Object(M.jsx)(E.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold",textAlign:"left"},children:"".concat(null===i||void 0===i?void 0:i.state.itemsRedeemed,"/").concat(null===i||void 0===i?void 0:i.state.itemsAvailable)})]}),Object(M.jsxs)(_.a,{container:!0,direction:"column",children:[Object(M.jsx)(E.a,{variant:"body2",color:"textSecondary",children:"Price"}),Object(M.jsx)(E.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold",textAlign:"left"},children:"".concat(W(i))})]})]}),Object(M.jsx)(L,{date:Object(I.g)((null===i||void 0===i?void 0:i.state.goLiveDate)?null===i||void 0===i?void 0:i.state.goLiveDate:(null===i||void 0===i||null===(t=i.state.whitelistMintSettings)||void 0===t?void 0:t.presale)?new x.a((new Date).getTime()/1e3):void 0),style:{justifyContent:"flex-end"},status:!(null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.isActive)||(null===i||void 0===i||null===(r=i.state)||void 0===r?void 0:r.isSoldOut)?"COMPLETED":(null===i||void 0===i||null===(a=i.state.whitelistMintSettings)||void 0===a?void 0:a.presale)?"PRESALE":"LIVE"})]})})},W=function(e){var t,n,r,a=I.c.asNumber((null===(t=e.state.whitelistMintSettings)||void 0===t?void 0:t.presale)&&(null===(n=e.state.whitelistMintSettings)||void 0===n?void 0:n.discountPrice)?null===(r=e.state.whitelistMintSettings)||void 0===r?void 0:r.discountPrice:e.state.price);return"\u25ce ".concat(a)},B=n(660),U=n(667),F=Object(h.a)(B.a)(r||(r=Object(j.a)(["\n  display: block !important;\n  margin: 0 auto !important;\n  background-color: var(--title-text-color) !important;\n  font-size: 1.2em;\n"]))),H=function(e){var t=e.onMint,n=e.candyMachine,r=e.isMinting,a=e.isActive,i=e.isSoldOut,c=Object(k.c)(),s=c.requestGatewayToken,u=c.gatewayStatus,l=Object(o.useState)(!1),d=Object(g.a)(l,2),b=d[0],p=d[1],j=Object(o.useState)(!1),h=Object(g.a)(j,2),v=h[0],x=h[1];return Object(o.useEffect)((function(){x(!1),u===k.b.COLLECTING_USER_INFORMATION&&b?x(!0):u===k.b.ACTIVE&&b&&(console.log("Verified human, now minting..."),t(),p(!1))}),[u,b,p,t]),Object(M.jsx)(F,{disabled:(null===n||void 0===n?void 0:n.state.isSoldOut)||i||r||!(null===n||void 0===n?void 0:n.state.isActive)||v,onClick:Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!(null===n||void 0===n?void 0:n.state.gatekeeper)||u===k.b.ACTIVE){e.next=7;break}return console.log("Requesting gateway token"),p(!0),e.next=5,s();case 5:e.next=10;break;case 7:return console.log("Minting..."),e.next=10,t();case 10:case"end":return e.stop()}}),e)}))),variant:"contained",children:n?(null===n||void 0===n?void 0:n.state.isSoldOut)||i?"SOLD OUT":(null===n||void 0===n?void 0:n.state.isActive)?v?"VERIFYING...":r?Object(M.jsx)(U.a,{}):"MINT":(null===n||void 0===n?void 0:n.state.goLiveDate)?"SOON":"UNAVAILABLE":"CONNECTING..."})},Y=n(148),z="mainnet-beta".toString(),q=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"8ApqG5caazsMT2PgKtYnTjXwu1vTU5PRraA1tFkCwyUk",REACT_APP_SOLANA_NETWORK:"mainnet-beta",REACT_APP_SOLANA_RPC_HOST:"https://icy-late-resonance.solana-mainnet.quiknode.pro/217594936bcb3d14d59d90f5e29c89340607578d/"}).REACT_APP_SPL_TOKEN_DECIMALS?+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"8ApqG5caazsMT2PgKtYnTjXwu1vTU5PRraA1tFkCwyUk",REACT_APP_SOLANA_NETWORK:"mainnet-beta",REACT_APP_SOLANA_RPC_HOST:"https://icy-late-resonance.solana-mainnet.quiknode.pro/217594936bcb3d14d59d90f5e29c89340607578d/"}).REACT_APP_SPL_TOKEN_DECIMALS.toString():9,V=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"8ApqG5caazsMT2PgKtYnTjXwu1vTU5PRraA1tFkCwyUk",REACT_APP_SOLANA_NETWORK:"mainnet-beta",REACT_APP_SOLANA_RPC_HOST:"https://icy-late-resonance.solana-mainnet.quiknode.pro/217594936bcb3d14d59d90f5e29c89340607578d/"}).REACT_APP_SPL_TOKEN_NAME?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"8ApqG5caazsMT2PgKtYnTjXwu1vTU5PRraA1tFkCwyUk",REACT_APP_SOLANA_NETWORK:"mainnet-beta",REACT_APP_SOLANA_RPC_HOST:"https://icy-late-resonance.solana-mainnet.quiknode.pro/217594936bcb3d14d59d90f5e29c89340607578d/"}).REACT_APP_SPL_TOKEN_NAME.toString():"TOKEN",G=(Object(h.a)(w.a)(a||(a=Object(j.a)(["\n  display: inline-block;\n  background-color: var(--card-background-lighter-color) !important;\n  margin: 5px;\n  padding: 24px;\n"]))),h.a.div(i||(i=Object(j.a)(["\n  color: black;\n  width: auto;\n  height: 80%;\n  padding: 0 0px 0 16px;\n  min-width: 48px;\n  min-height: auto;\n  border-radius: 24px;\n  background-color: var(--main-text-color);\n  box-sizing: border-box;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n    border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  font-weight: 500;\n  font-size: 0.7em;\n  text-transform: uppercase;\n  border: 0;\n  margin: auto;\n  display: inline-flex;\n  outline: 0;\n  position: relative;\n  align-items: center;\n  user-select: none;\n  vertical-align: middle;\n  justify-content: center;\n  gap: 10px;\n"])))),J=Object(h.a)(y.b)(c||(c=Object(j.a)(["\n  margin: auto 0;\n  width: 100%;\n  height: 80%;\n  color: white;\n  font-size: 1em;\n  font-weight: bold;\n  align-items: center;\n  justify-content: center;\n"]))),X=h.a.div(s||(s=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1 1 auto;\n  flex-wrap: wrap;\n  gap: 20px;\n  background: linear-gradient(180deg, #12121e 0%, #2b2b3d 100%);\n"]))),Z=function(e){var t,n,r=Object(o.useState)(),a=Object(g.a)(r,2),i=a[0],c=a[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),l=u[0],d=u[1],p=Object(o.useState)(!1),j=Object(g.a)(p,2),h=j[0],y=j[1],_=Object(o.useState)(""),E=Object(g.a)(_,2),N=(E[0],E[1]),R=Object(o.useState)(0),C=Object(g.a)(R,2),K=(C[0],C[1]),L=Object(o.useState)(0),W=Object(g.a)(L,2),B=W[0],U=W[1],F=Object(o.useState)(0),Z=Object(g.a)(F,2),Q=Z[0],$=Z[1],ee=Object(o.useState)(!1),te=Object(g.a)(ee,2),ne=te[0],re=te[1],ae=Object(o.useState)(!1),ie=Object(g.a)(ae,2),ce=ie[0],se=ie[1],oe=Object(o.useState)(0),ue=Object(g.a)(oe,2),le=ue[0],de=ue[1],be=Object(o.useState)("SOL"),pe=Object(g.a)(be,2),fe=(pe[0],pe[1]),me=Object(o.useState)(0),ge=Object(g.a)(me,2),je=ge[0],he=ge[1],ve=Object(o.useState)(!1),xe=Object(g.a)(ve,2),Oe=xe[0],Se=xe[1],ye=Object(o.useState)(0),ke=Object(g.a)(ye,2),we=ke[0],Pe=ke[1],Te=Object(o.useState)({open:!1,message:"",severity:void 0}),Ae=Object(g.a)(Te,2),_e=Ae[0],Ee=Ae[1],Ne=Object(S.c)(),Re=Object(o.useState)(),Ce=Object(g.a)(Re,2),Me=Ce[0],Ke=Ce[1],Le=e.rpcHost;function Ie(e){var t=Q-1;if($(t),re(0===t),we&&we>0){var n=we-1;Pe(n),y(n>0)}U(B+1);!ce&&i&&i>0&&c(i-(Oe?je:le)-.012),N("devnet"===z||"testnet"===z?"https://explorer.solana.com/address/"+e+"?cluster="+z:"https://explorer.solana.com/address/"+e),Object(v.a)({particleCount:400,spread:70,origin:{y:.6}})}var De=function(){var t=Object(m.a)(f.a.mark((function t(){var n,r,a,i,c,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,d(!0),null===(n=document.getElementById("#identity"))||void 0===n||n.click(),!(Ne&&(null===Me||void 0===Me?void 0:Me.program)&&Ne.publicKey)){t.next=14;break}return a=x.e.Keypair.generate(),t.next=7,Object(Y.d)(Me,Ne.publicKey,a);case 7:if(i=t.sent[0],c={err:!0},!i){t.next=13;break}return t.next=12,Object(Y.b)(i,e.txTimeout,e.connection,"singleGossip",!0);case 12:c=t.sent;case 13:(null===(r=c)||void 0===r?void 0:r.err)?Ee({open:!0,message:"Mint failed! Please try again!",severity:"error"}):(Ee({open:!0,message:"Congratulations! Mint succeeded!",severity:"success"}),Ie(a.publicKey));case 14:t.next=21;break;case 16:t.prev=16,t.t0=t.catch(0),s=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?s="SOLD OUT!":312===t.t0.code&&(s="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x138")||(t.t0.message.indexOf("0x137")?s="SOLD OUT!":t.t0.message.indexOf("0x135")&&(s="Insufficient funds to mint. Please fund your wallet.")):s="Transaction Timeout! Please try again.",Ee({open:!0,message:s,severity:"error"});case 21:return t.prev=21,d(!1),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,16,21,24]])})));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){Object(m.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Ne){t.next=5;break}return t.next=3,e.connection.getBalance(Ne.publicKey);case 3:n=t.sent,c(n/O.LAMPORTS_PER_SOL);case 5:case"end":return t.stop()}}),t)})))()}),[Ne,e.connection]),Object(o.useEffect)((function(){Object(m.a)(f.a.mark((function t(){var n,r,a,i,c,s,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ne){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(Y.c)(Ne,e.candyMachineId,e.connection);case 4:if(n=t.sent,Ke(n),K(n.state.itemsAvailable),$(n.state.itemsRemaining),U(n.state.itemsRedeemed),r=1,q&&(r=+("1"+new Array(q).join("0").slice()+"0")),n.state.tokenMint?(se(!0),fe(V),de(n.state.price.toNumber()/r),he(n.state.price.toNumber()/r)):(de(n.state.price.toNumber()/O.LAMPORTS_PER_SOL),he(n.state.price.toNumber()/O.LAMPORTS_PER_SOL)),!n.state.whitelistMintSettings){t.next=35;break}return Se(!0),null!==n.state.whitelistMintSettings.discountPrice&&n.state.whitelistMintSettings.discountPrice!==n.state.price&&(n.state.tokenMint?he((null===(a=n.state.whitelistMintSettings.discountPrice)||void 0===a?void 0:a.toNumber())/r):he((null===(i=n.state.whitelistMintSettings.discountPrice)||void 0===i?void 0:i.toNumber())/O.LAMPORTS_PER_SOL)),c=0,t.prev=16,t.t0=e.connection,t.next=20,Object(I.d)(n.state.whitelistMintSettings.mint,Ne.publicKey);case 20:return t.t1=t.sent[0],t.next=23,t.t0.getTokenAccountBalance.call(t.t0,t.t1);case 23:o=t.sent,c=(null===o||void 0===o||null===(s=o.value)||void 0===s?void 0:s.uiAmount)||0,t.next=31;break;case 27:t.prev=27,t.t2=t.catch(16),console.error(t.t2),c=0;case 31:Pe(c),y(c>0),t.next=36;break;case 35:Se(!1);case 36:case"end":return t.stop()}}),t,null,[[16,27]])})))()}),[Ne,e.candyMachineId,e.connection]);var We="https://primatewarfare.club/";return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("main",{children:[Object(M.jsx)("div",{className:"bg-img"}),Object(M.jsx)("section",{id:"navbar",children:Object(M.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark",children:Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)("a",{className:"navbar-brand",children:" "}),Object(M.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(M.jsx)("span",{className:"navbar-toggler-icon"})}),Object(M.jsx)("div",{className:"collapse navbar-collapse nav-basis",id:"navbarNav",children:Object(M.jsxs)("ul",{className:"navbar-nav ms-auto",children:[Object(M.jsx)("li",{className:"nav-item px-3",children:Object(M.jsx)("a",{className:"nav-link",href:"https://twitter.com/PrimateWarfare",rel:"noreferrer",target:"_blank",children:Object(M.jsx)("i",{className:"fab fa-twitter fa-lg"})})}),Object(M.jsx)("li",{className:"nav-item px-3",children:Object(M.jsx)("a",{className:"nav-link",href:"#",children:Object(M.jsx)("i",{className:"fab fa-discord fa-lg"})})}),Object(M.jsx)("li",{className:"nav-item px-3",children:Object(M.jsx)("a",{className:"nav-link",href:"#",children:Object(M.jsx)("i",{className:"fab fa-telegram fa-lg"})})}),Object(M.jsx)("li",{className:"nav-item px-3",children:Object(M.jsx)("a",{className:"nav-link",href:"https://www.facebook.com/Primate-Warfare-Club-101453802450280/",rel:"noreferrer",target:"_blank",children:Object(M.jsx)("i",{className:"fab fa-facebook fa-lg"})})}),Object(M.jsx)("li",{className:"nav-item px-3 align-items-center d-flex",children:Ne?Object(M.jsxs)(G,{children:[(i||0).toLocaleString()+" SOL",Object(M.jsx)(J,{})]}):Object(M.jsx)(J,{children:"Connect Wallet"})})]})})]})})}),Object(M.jsx)("section",{id:"banner",children:Object(M.jsx)("div",{className:"banner",children:Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)("div",{className:"row text-center",children:Object(M.jsxs)("div",{className:"col-md-12 align-items-center d-flex justify-content-center",children:[Object(M.jsx)("a",{href:We,rel:"noreferrer",target:"_blank",children:Object(M.jsx)("img",{src:"logo-min.png",className:"logo",alt:"logo"})}),Object(M.jsx)("h3",{children:"PRIMATE WARFARE CLUB"})]})}),Object(M.jsx)("br",{}),Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-5 text-center",children:Object(M.jsx)("img",{src:"primate.gif",alt:"",id:"image",style:{width:"300px"}})}),Object(M.jsxs)("div",{className:"col-md-7 text-center my-auto align-items-center px-5",children:[Object(M.jsx)("h4",{style:{fontWeight:"bold",padding:"20px"},className:"align-items-start",children:"Mint Yours!"}),Object(M.jsxs)(P.a,{disableGutters:!0,children:[Object(M.jsx)(P.a,{disableGutters:!0,maxWidth:"md",style:{position:"relative"},children:Object(M.jsx)(w.a,{children:(null===Ne||void 0===Ne?void 0:Ne.publicKey)?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(X,{style:{padding:20,backgroundColor:"#311e4e"},children:[Object(M.jsx)(D,{candyMachine:Me}),(null===Me||void 0===Me?void 0:Me.state.isActive)&&(null===Me||void 0===Me?void 0:Me.state.gatekeeper)&&Ne.publicKey&&Ne.signTransaction?Object(M.jsx)(k.a,{wallet:{publicKey:Ne.publicKey||new O.PublicKey(Y.a),signTransaction:Ne.signTransaction},gatekeeperNetwork:null===Me||void 0===Me||null===(t=Me.state)||void 0===t||null===(n=t.gatekeeper)||void 0===n?void 0:n.gatekeeperNetwork,clusterUrl:Le,options:{autoShowModal:!1},children:Object(M.jsx)(H,{candyMachine:Me,isMinting:l,isActive:h,isSoldOut:ne,onMint:De})}):Object(M.jsx)(H,{candyMachine:Me,isMinting:l,isActive:h,isSoldOut:ne,onMint:De})]})}):Object(M.jsx)(J,{style:{borderRadius:"0"},children:"Connect Wallet"})})}),Object(M.jsx)(T.a,{open:_e.open,autoHideDuration:6e3,onClose:function(){return Ee(Object(b.a)(Object(b.a)({},_e),{},{open:!1}))},children:Object(M.jsx)(A.a,{onClose:function(){return Ee(Object(b.a)(Object(b.a)({},_e),{},{open:!1}))},severity:_e.severity,children:_e.message})})]})]})]})]})})}),Object(M.jsx)("footer",{className:"text-white pt-5 pb-4",id:"community",children:Object(M.jsx)("div",{className:"container text-md-left",children:Object(M.jsx)("div",{className:"row align-items-center",children:Object(M.jsx)("div",{className:"col-md-12 text-center col-lg-12",children:Object(M.jsxs)("p",{children:["Copyright \xa92022 All rights reserved by:",Object(M.jsx)("a",{href:We,rel:"noreferrer",target:"_blank",style:{textDecoration:"none"},children:Object(M.jsx)("strong",{style:{color:"#FED02A"},children:"Primate Warfare Club"})})]})})})})})]})})},Q=n(134),$=n(377),ee=n(669),te=new x.e.PublicKey("8ApqG5caazsMT2PgKtYnTjXwu1vTU5PRraA1tFkCwyUk"),ne="mainnet-beta",re="https://icy-late-resonance.solana-mainnet.quiknode.pro/217594936bcb3d14d59d90f5e29c89340607578d/",ae=new x.e.Connection(re),ie=Object($.a)({palette:{type:"dark"},overrides:{MuiButtonBase:{root:{justifyContent:"center"}},MuiButton:{root:{textTransform:void 0,padding:"12px 16px"},startIcon:{marginRight:8},endIcon:{marginLeft:8}},MuiPaper:{root:{backgroundColor:"none"},elevation1:{boxShadow:"0"}}}}),ce=function(){var e=Object(o.useMemo)((function(){return Object(O.clusterApiUrl)(ne)}),[]),t=Object(o.useMemo)((function(){return[Object(Q.a)(),Object(Q.b)(),Object(Q.c)(),Object(Q.e)({network:ne}),Object(Q.d)({network:ne})]}),[]);return Object(M.jsx)(ee.a,{theme:ie,children:Object(M.jsx)(S.a,{endpoint:e,children:Object(M.jsx)(S.b,{wallets:t,autoConnect:!0,children:Object(M.jsx)(y.a,{children:Object(M.jsx)(Z,{candyMachineId:te,connection:ae,txTimeout:3e4,rpcHost:re})})})})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,674)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};d.a.render(Object(M.jsx)(u.a.StrictMode,{children:Object(M.jsx)(ce,{})}),document.getElementById("root")),se()},68:function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return g}));var r=n(1),a=n.n(r),i=n(4),c=n(31),s=n(53),o=n(12),u=function(e){if(e)return new Date(1e3*e.toNumber())},l=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),d={format:function(e){return e?l.format(e):"--"},asNumber:function(e){if(e)return e.toNumber()/o.LAMPORTS_PER_SOL}},b=new c.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),p=new c.e.PublicKey("gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs"),f=function(){var e=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),s.b.toBuffer(),t.toBuffer()],b);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),e.from("expire")],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),e.from("gateway"),e.from([0,0,0,0,0,0,0,0]),r.toBuffer()],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n(6).Buffer)}},[[632,1,2]]]);
//# sourceMappingURL=main.8e90b1c8.chunk.js.map